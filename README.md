# LLM-based CV–Vacancy Scoring (MVP)

Прототип AI-модуля для оценки соответствия кандидата вакансии.  
На вход подаются тексты вакансии и резюме, на выходе — структурированный и
объяснимый скоринг в формате JSON.

Проект демонстрирует базовое AI-ядро, пригодное для использования
в системах автоматизированного подбора персонала и внутренних HR-инструментах.

---

## Ключевая идея

Вместо поиска по ключевым словам или «чёрного ящика» скоринга, пайплайн:

- явно извлекает требования из вакансии;
- проверяет их подтверждение в резюме;
- фиксирует несоответствия и пробелы;
- формирует итоговый скор с объяснением вклада каждого требования.

Результат интерпретируем и проверяем без необходимости знания ML.

---

## Архитектура пайплайна

Пайплайн состоит из двух LLM-этапов:

### 1. Извлечение требований
- hard skills, опыт, ограничения и условия;
- используются только явно указанные формулировки вакансии;
- предположения и догадки исключены.

### 2. Скоринг резюме
- каждое требование проверяется отдельно;
- статусы `supported` и `contradicted` допускаются только при наличии прямой цитаты;
- при отсутствии подтверждений используются `missing` или `unclear`.

Финальный результат возвращается в строгом JSON-формате.

---

## Надёжность и объяснимость

- используется JSON Schema для валидации ответа;
- при невалидном JSON выполняется одна автоматическая попытка исправления
  без добавления новой информации;
- для каждого требования сохраняется:
  - цитата из резюме,
  - краткое объяснение,
  - числовой вклад в итоговый скор.

Это делает результат воспроизводимым и пригодным для проверки.

---

## Fairness и работа с данными

Перед скорингом выполняется минимальная санитизация текста:

- маскирование контактных данных и служебной информации;
- игнорирование защищённых признаков (пол, возраст, имя, адрес),
  даже если они присутствуют в тексте.

Подход снижает риск bias и приближает решение к production-практикам.

---

## Оценка качества

Пайплайн протестирован на выборке из 100 пар «вакансия–резюме»
с реальными HR-данными и выраженным дисбалансом классов.

Проведены:

- оценка accuracy / precision / recall / F1 при разных порогах;
- калибровка порога скоринга под разные бизнес-сценарии;
- анализ стабильности JSON-ответов и стоимости пайплайна
  (latency, tokens).

Порог скоринга рассматривается как бизнес-настраиваемый параметр,
а не фиксированное значение.

---

## Ограничения и дальнейшее развитие

- более глубокая предобработка и нормализация текстов;
- стабилизация требований (синонимы, стек технологий);
- добавление метрик ранжирования (Recall@K, NDCG) для подбора top-N кандидатов;
- human-in-the-loop: ручная корректировка требований и весов рекрутером.

---

## Используемые модели

В текущей реализации используется GPT-4 для извлечения требований
и скоринга резюме.

LLM является заменяемым компонентом:
архитектура допускает использование open-source моделей
без изменения логики пайплайна.

---

## Формат проекта

Проект реализован в одном Jupyter Notebook как self-contained MVP:

- логика пайплайна;
- проверки и валидация;
- прогон метрик;
- сохранение артефактов.

Подходит как базовое AI-ядро для дальнейшего расширения и интеграции.

